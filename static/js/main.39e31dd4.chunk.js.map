{"version":3,"sources":["redux/dialogs-reducer.js","components/Navbar/Navbar.module.css","components/Users/Users.module.css","api/api.js","reportWebVitals.js","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.jsx","assets/images/user.png","components/Users/User.jsx","components/Users/Users.jsx","utils/object-helper.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/FormsControls/FormsControls.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","News","Music","Settings","Navbar","className","s","nav","item","to","activeClassName","active","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","filter","p","map","cn","selectedPage","pageNumber","e","User","user","followingInProgress","src","photos","small","userPhoto","followed","disabled","some","Users","totalUsersCount","users","props","u","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","count","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","validate","required","component","Input","error","formSummeryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ProfileContainer","lazy","DialogsContainer","App","initializeApp","Suspense","fallback","path","render","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","preloader","alt","value","maxLengthCreator","maxLength","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.39e31dd4.chunk.js","sourcesContent":["const SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Max\" },\r\n    { id: 2, name: \"Seryi\" },\r\n    { id: 3, name: \"Lera\" },\r\n    { id: 4, name: \"Silvia\" },\r\n    { id: 5, name: \"Lena\" },\r\n    { id: 6, name: \"Valera\" },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"What's up\" },\r\n    { id: 3, message: \"Hey bro\" },\r\n    { id: 4, message: \"Yo\" },\r\n    { id: 5, message: \"Yo\" },\r\n    { id: 6, message: \"Yo\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  \r\n\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 6, message: body }],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => {\r\n  return {\r\n    type: SEND_MESSAGE,\r\n    newMessageBody\r\n  };\r\n};\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1tiY1\",\"item\":\"Navbar_item__1vS40\",\"active\":\"Navbar_active__1vy60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3y01E\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"703013ee-1a2e-4284-ac13-0e83bb4decfa\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status });\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\r\n\r\nexport const News = () => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\n\r\nexport const Music = () => {\r\n  return (\r\n    <div>\r\n      Music\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\n\r\nexport const Settings = () => {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Navbar.module.css'\r\n\r\nexport const Navbar = () => {\r\n  return <nav className={s.nav}>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n    </div>\r\n    <div className={ `${s.item} ${s.active}` }>\r\n      <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n    </div>\r\n    <div className={ `${s.item} ${s.active}` }>\r\n      <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\r\n    </div>\r\n  </nav>\r\n}","import React, { useState } from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n        </div>\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user.e5ee284b.png\";","import React from 'react';\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n       <div>\r\n                <span>\r\n                    <div>\r\n                       <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                             className={styles.userPhoto}/>\r\n                       </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)}\r\n                                      onClick={() => { unfollow(user.id) }}>\r\n                                Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      onClick={() => { follow(user.id) }}>\r\n                                      Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n            </div>)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     key={u.id}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n                    />\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n      if (u[objPropName] === itemId) {\r\n          return {...u, ...newObjProps}\r\n      }\r\n      return u;\r\n  })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helper\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n  fake: 10,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n      };\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users };\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count };\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(page));\r\n\r\n  let data = await usersAPI.getUsers(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId);\r\n  if (response.data.resultCode == 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  let apiMethod = usersAPI.follow.bind(usersAPI);\r\n  followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\r\n};\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n  followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;\r\n","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const countSomethingDifficult = (state) => {\r\n    debugger\r\n    //for... math... big arrays\r\n    let count = 23;\r\n    return count;\r\n}","import React from 'react';\r\nimport Users from './Users'\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage, requestUsers, unfollow, toggleFollowingProgress } from \"../../redux/users-reducer\";\r\nimport { Preloader } from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux'\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\r\n)(UsersContainer)\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png' />\r\n\r\n        <div className={s.loginBlock}>\r\n            { props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logout}>Log out</button> </div>\r\n                : <NavLink to={'/login'}>Login</NavLink> }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload:\r\n        {userId, email, login, isAuth}  });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n            if (response.data.resultCode === 0) {\r\n                let {id, login, email} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n                dispatch(stopSubmit('login', {_error: message}))\r\n            }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            } \r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    \r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"} name={\"email\"}\r\n                       validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"} name={\"password\"} type={\"password\"}\r\n                       validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/> remember me\r\n            </div>\r\n            { props.error && <div className={s.formSummeryError}>\r\n              {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm =  reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login} )(Login);","import {authAPI} from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form'\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    promise.then( () => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Component} from 'react';\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\nimport \"./App.css\";\nimport { News } from \"./components/News/News\";\nimport { Music } from \"./components/Music/Music\";\nimport { Settings } from \"./components/Settings/Settings\";\nimport { Navbar } from \"./components/Navbar/Navbar\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport { connect, Provider } from \"react-redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport { compose } from \"redux\";\nimport { Preloader } from './components/common/Preloader/Preloader';\nimport store from \"./redux/redux-store\";\n\n\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\n\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n        <React.Suspense fallback={<Preloader/>}>\n          <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n          <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" render={() => <Login />} />\n          <Route path=\"/news\" render={() => <News />} />\n          <Route path=\"/music\" render={() => <Music />} />\n          <Route path=\"/settings\" render={() => <Settings />} />\n        </React.Suspense>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp }))(App);\n\nconst SamuraiJSApp = (props) => {\n  return <HashRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n}\n\nexport default SamuraiJSApp;","import reportWebVitals from \"./reportWebVitals\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport SamuraiJSApp from \"./App\";\n\nReactDOM.render(\n  <SamuraiJSApp />,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/preloader.58139a2d.svg\";","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.svg'\r\n\r\nexport const Preloader = (props) => {\r\n  return (\r\n    <div>\r\n      <img src={preloader} alt='preloader'/> \r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormsControls_form-control__3EEV8\",\"formControl\":\"FormsControls_formControl__1Pgqq\",\"error\":\"FormsControls_error__22-8h\",\"formSummeryError\":\"FormsControls_formSummeryError__3m0Fw\"};","export const required = value => {\r\n  if (value) return undefined\r\n  return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n  return undefined\r\n}","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__mEyuz\",\"pageNumber\":\"Paginator_pageNumber__3uuQn\",\"selectedPage\":\"Paginator_selectedPage__Cr8-p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2pBwF\",\"loginBlock\":\"Header_loginBlock__KKk9g\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 11},\r\n        {id: 3, message: 'Blabla', likesCount: 11},\r\n        {id: 4, message: 'Dada', likesCount: 11}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n        dispatch(setUserProfile(response.data));\r\n    \r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n            dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}